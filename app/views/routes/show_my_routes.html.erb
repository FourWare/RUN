</br>

<div class="container table-responsive" style="background-color: lightgray; padding: 1%; width: 60%;">
  <h1 style="color: #155892;">Mis rutas</h1>
  <p style="color: #155892;">Número de rutas: <%= @countMyRoutes %></p>
  <% if @countMyRoutes >= 2 %>
    <div class="col-xs-12" style="text-align: center; padding: 0%;">
      <div class="col-xs-2" style="text-align: left; padding: 0%;">
        <%= image_tag("filter.png", alt: 'Filter', class: "mx-auto img-circle", style: "width: 10%;", title: "Realiza tus filtros") %>
        <select class="btn dropdown-toggle bs-placeholder btn-default" style="width: 90%; position: absolute;">
          <option value="all" selected="selected">Todo</option>
          <option value="type">Tipo</option>
          <option value="brand">Marca</option>
          <option value="color">Color</option>
          <option value="capacity">Capacidad</option>
          <option value="date">Fecha de cración</option>
          <option value="price">Costo</option>
        </select>
      </div>
      <div class="col-xs-2">
      </div>
      <div class="col-xs-2">
      </div>
      <div class="col-xs-2">
      </div>
      <div class="col-xs-2">
      </div>
      <div class="col-xs-2">
      </div>
      
      
      <input type="text" id='usernameRegister' placeholder="Search for names.." title="Type in a name" autofocus style="width: 250px;">
      
      <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
    </div>
    <br></br>
  <% end %>
  <table class="table table-striped table-bordered table-hover" style="border: solid black; ">
    <thead style="background-color: #373a3c; color: white;">
      <tr>
        <th style="text-align:center;">Ruta</th>
        <th style="text-align:center;" colspan="3">Opciones</th>
      </tr>
    </thead>
    <tbody>
      <% @routes.each do |route| %>
        <tr>
          <td style="text-align:left; color: black; padding-top: 1%; padding-left: 3%">
            <h2><%= route.title %></h1>
            <p><b>Descripción:</b> <%= route.description %></p>
          </td>
          <td style="text-align:center; color: black;">
            </br></br>
            <%= link_to 'Ver detalles', route %>
          </td>
          <td style="text-align:center; color: black;">
              </br></br>
              <%= link_to 'Eliminar', route, method: :delete, data: { confirm: '¿Estás seguro de eliminar esta ruta?' } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
</br>

<%= link_to "/usuario/inicio" do %>
  <button type="button" id="submitRegister" class="btn btn-primary btn-lg" style="width: 20%; white-space: normal;" display="inline-block">Volver al menú</button>
<% end %>

<p id="notice"><%= notice %></p>

<%= will_paginate @routes, 
  renderer: BootstrapPagination::Rails, 
  :previous_label => "Anterior",
  :next_label => "Siguiente" 
%>



<script>

function myFunction() {
    document.getElementById("dropdown-menu").classList.toggle("show");
}

window.onclick = function(event) {
  if (!event.target.matches('.dropdown-toggle')) {
    var dropdowns = document.getElementsByClassName("dropdown-menu");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

</script>